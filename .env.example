# Docsray MCP Server Configuration
# Copy this file to .env and update with your actual values

# ===========================================
# PROVIDER CONFIGURATION
# ===========================================

# PyMuPDF4LLM Provider (Always enabled by default)
DOCSRAY_PYMUPDF4LLM_ENABLED=true
DOCSRAY_PYMUPDF4LLM_PAGE_CHUNKS=true
DOCSRAY_PYMUPDF4LLM_WRITE_IMAGES=false
DOCSRAY_PYMUPDF4LLM_IMAGE_FORMAT=png
DOCSRAY_PYMUPDF4LLM_DPI=150

# LlamaParse Provider (AI-powered document analysis)
# Get your free API key at: https://cloud.llamaindex.ai
DOCSRAY_LLAMAPARSE_ENABLED=false
LLAMAPARSE_API_KEY=llx-your-api-key-here
DOCSRAY_LLAMAPARSE_MODE=balanced  # Options: fast, balanced, premium
DOCSRAY_LLAMAPARSE_VERBOSE=false
DOCSRAY_LLAMAPARSE_LANGUAGE=en
DOCSRAY_LLAMAPARSE_INVALIDATE_CACHE=false
DOCSRAY_LLAMAPARSE_DO_NOT_CACHE=false
DOCSRAY_LLAMAPARSE_FAST_MODE=false
DOCSRAY_LLAMAPARSE_DO_NOT_UNROLL_COLUMNS=false
DOCSRAY_LLAMAPARSE_PAGE_SEPARATOR=\n---\n
DOCSRAY_LLAMAPARSE_CUSTOM_PROMPT=""

# Mistral OCR Provider (Coming Soon)
# DOCSRAY_MISTRAL_ENABLED=false
# MISTRAL_API_KEY=your-mistral-api-key
# DOCSRAY_MISTRAL_MODEL=pixtral-12b-2024-09-04
# DOCSRAY_MISTRAL_MAX_TOKENS=2048
# DOCSRAY_MISTRAL_TEMPERATURE=0.3

# PyTesseract Provider (Coming Soon)
# DOCSRAY_PYTESSERACT_ENABLED=false
# DOCSRAY_PYTESSERACT_LANG=eng
# DOCSRAY_PYTESSERACT_CONFIG=--psm 3

# ===========================================
# PERFORMANCE CONFIGURATION
# ===========================================

# Caching
DOCSRAY_CACHE_ENABLED=true
DOCSRAY_CACHE_TTL=3600  # Cache time-to-live in seconds (1 hour)
DOCSRAY_CACHE_MAX_SIZE=100  # Maximum number of cached documents
DOCSRAY_CACHE_STRATEGY=lru  # Options: lru, fifo

# Request handling
DOCSRAY_MAX_CONCURRENT_REQUESTS=5
DOCSRAY_TIMEOUT_SECONDS=60  # Increased for AI processing
DOCSRAY_RETRY_ATTEMPTS=3
DOCSRAY_RETRY_DELAY=1.0

# Memory management
DOCSRAY_MAX_FILE_SIZE_MB=50
DOCSRAY_CHUNK_SIZE_KB=512

# ===========================================
# SERVER CONFIGURATION
# ===========================================

# Transport type (stdio for MCP clients, http for development)
DOCSRAY_TRANSPORT_TYPE=stdio  # Options: stdio, http
DOCSRAY_HTTP_PORT=3000
DOCSRAY_HTTP_HOST=127.0.0.1

# Security
DOCSRAY_ALLOWED_DOMAINS=*  # Comma-separated list of allowed domains for URL processing
DOCSRAY_BLOCKED_DOMAINS=""  # Comma-separated list of blocked domains

# ===========================================
# LOGGING
# ===========================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
DOCSRAY_LOG_LEVEL=INFO
DOCSRAY_LOG_FILE=""  # Optional: Path to log file
DOCSRAY_LOG_FORMAT=json  # Options: json, text

# ===========================================
# ADVANCED SETTINGS
# ===========================================

# Development mode
DOCSRAY_DEBUG=false
DOCSRAY_PROFILE=false  # Enable performance profiling

# Feature flags
DOCSRAY_ENABLE_METRICS=false
DOCSRAY_ENABLE_TRACING=false

# Storage paths (defaults to system temp)
# DOCSRAY_TEMP_DIR=/tmp/docsray
# DOCSRAY_CACHE_DIR=/var/cache/docsray